{"version":3,"sources":["webpack://svue/webpack/universalModuleDefinition","webpack://svue/webpack/bootstrap","webpack://svue/./src/dep.js","webpack://svue/./src/index.js","webpack://svue/./src/watcher.js"],"names":["Dep","deps","dep","push","console","log","forEach","update","SVue","options","$options","$data","data","observe","Watch","test","foo","bar","baz","obj","Object","keys","key","defineReactive","val","defineProperty","get","target","addDep","set","newVal","notify"],"mappings":"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","file":"svue.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"svue\"] = factory();\n\telse\n\t\troot[\"svue\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export default class Dep {\r\n  constructor () {\r\n    this.deps = []\r\n  }\r\n\r\n  addDep (dep) {\r\n    this.deps.push(dep)\r\n  }\r\n\r\n  notify () {\r\n    console.log(this.deps)\r\n    this.deps.forEach(dep => {\r\n      dep.update()\r\n    })\r\n  }\r\n}","import Dep from './dep'\r\nimport Watch from './watcher'\r\n\r\nexport class SVue {\r\n  constructor(options){\r\n    this.$options = options\r\n    // 数据响应化\r\n    this.$data = options.data\r\n    this.observe(this.$data)\r\n\r\n    // 模拟watcher创建\r\n    new Watch()\r\n    this.$data.test\r\n    this.$data.test\r\n    new Watch()\r\n    this.$data.foo.bar\r\n    this.$data.foo.baz\r\n  }\r\n\r\n  observe(obj) {\r\n    if (!obj || typeof obj !== 'object') {\r\n      return\r\n    }\r\n    Object.keys(obj).forEach(key => {\r\n      this.defineReactive(obj, key, obj[key])\r\n    })\r\n  }\r\n\r\n  defineReactive(obj, key, val) {\r\n    let dep = new Dep()\r\n    Object.defineProperty(obj, key, {\r\n      get() {\r\n        Dep.target && dep.addDep(Dep.target)\r\n        // console.log(dep.deps)\r\n        return val\r\n      },\r\n      set(newVal) {\r\n        if (newVal === val) return\r\n        val = newVal\r\n        // console.log(`${key}的属性变化了：${val}`)\r\n        dep.notify()\r\n      }\r\n    })\r\n    // 如果val还是一个对象，递归设置响应化\r\n    this.observe(val)\r\n  }\r\n}","import Dep from './dep'\r\nexport default class Watch {\r\n  constructor () {\r\n    // 将当前watch实例指定到Dep静态属性target\r\n    Dep.target = this\r\n  }\r\n\r\n  update () {\r\n    console.log('属性更新了')\r\n    // console.log(Dep.target)\r\n  }\r\n}"],"sourceRoot":""}